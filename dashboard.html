<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Acacia Garden • Aeon Dashboard</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
  <style>
    :root {
      --bg: #05070b;
      --panel: #0d1117;
      --panel-soft: #111827;
      --accent: #22c55e;
      --accent-soft: rgba(34, 197, 94, 0.2);
      --accent-alt: #38bdf8;
      --text-main: #e5e7eb;
      --text-soft: #9ca3af;
      --border-subtle: #1f2933;
      --danger: #f97373;
      --warning: #facc15;
      --muted: #6b7280;
      --font-main: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      --chip-bg: rgba(148, 163, 184, 0.16);
      --chip-border: rgba(148, 163, 184, 0.35);
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 0;
      background: radial-gradient(circle at top, #020617 0, #020617 35%, #020617 100%);
      color: var(--text-main);
      font-family: var(--font-main);
      -webkit-font-smoothing: antialiased;
    }

    .shell {
      max-width: 1200px;
      margin: 0 auto;
      padding: 1.5rem 1.25rem 3rem;
    }

    header {
      margin-bottom: 1.75rem;
    }

    header h1 {
      margin: 0;
      font-size: 1.9rem;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      font-weight: 600;
    }

    header .sub {
      margin-top: 0.35rem;
      font-size: 0.9rem;
      color: var(--text-soft);
    }

    header .pill-row {
      margin-top: 0.75rem;
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      align-items: center;
    }

    .pill {
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.35);
      padding: 0.22rem 0.7rem;
      font-size: 0.75rem;
      letter-spacing: 0.03em;
      text-transform: uppercase;
      color: var(--text-soft);
      background: rgba(15, 23, 42, 0.8);
      display: inline-flex;
      align-items: center;
      gap: 0.3rem;
      white-space: nowrap;
    }

    .pill.keeper {
      border-color: rgba(34, 197, 94, 0.7);
      color: #bbf7d0;
      background: rgba(21, 128, 61, 0.18);
    }

    .pill.muted {
      opacity: 0.85;
    }

    .pill .dot {
      width: 0.4rem;
      height: 0.4rem;
      border-radius: 999px;
      background: var(--accent);
      box-shadow: 0 0 8px rgba(34, 197, 94, 0.7);
    }

    main {
      display: grid;
      grid-template-columns: minmax(0, 2.15fr) minmax(0, 1.35fr);
      gap: 1.25rem;
      align-items: flex-start;
    }

    @media (max-width: 880px) {
      main {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    section {
      background: linear-gradient(145deg, rgba(15, 23, 42, 0.95), rgba(15, 23, 42, 0.9));
      border-radius: 1rem;
      border: 1px solid rgba(148, 163, 184, 0.22);
      padding: 1.05rem 1rem 1.1rem;
      box-shadow:
        0 18px 35px rgba(15, 23, 42, 0.7),
        inset 0 0 0 1px rgba(15, 23, 42, 0.9);
      position: relative;
      overflow: hidden;
    }

    section::before {
      content: "";
      position: absolute;
      inset: 0;
      pointer-events: none;
      background:
        radial-gradient(circle at top left, rgba(34, 197, 94, 0.12), transparent 58%),
        radial-gradient(circle at bottom right, rgba(56, 189, 248, 0.12), transparent 55%);
      opacity: 0.45;
      mix-blend-mode: screen;
    }

    section > * {
      position: relative;
      z-index: 1;
    }

    .section-header {
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      gap: 0.75rem;
      margin-bottom: 0.65rem;
    }

    .section-header h2 {
      margin: 0;
      font-size: 1rem;
      letter-spacing: 0.08em;
      text-transform: uppercase;
    }

    .badge {
      display: inline-flex;
      align-items: center;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.4);
      padding: 0.1rem 0.45rem;
      font-size: 0.62rem;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: #cbd5f5;
      background: rgba(15, 23, 42, 0.9);
      margin-left: 0.4rem;
      gap: 0.25rem;
    }

    .badge .dot {
      width: 0.36rem;
      height: 0.36rem;
      border-radius: 999px;
      background: var(--accent);
      box-shadow: 0 0 6px rgba(34, 197, 94, 0.8);
    }

    .hint {
      font-size: 0.78rem;
      color: var(--text-soft);
      max-width: 320px;
    }

    .tabs {
      display: inline-flex;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.4);
      padding: 0.12rem;
      background: rgba(15, 23, 42, 0.75);
      font-size: 0.75rem;
    }

    .tabs button {
      border: none;
      background: transparent;
      color: var(--text-soft);
      padding: 0.2rem 0.7rem;
      border-radius: 999px;
      cursor: pointer;
      letter-spacing: 0.06em;
      text-transform: uppercase;
    }

    .tabs button.active {
      background: rgba(34, 197, 94, 0.15);
      color: #bbf7d0;
      box-shadow: 0 0 0 1px rgba(16, 185, 129, 0.8);
    }

    .stat-grid {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 0.65rem;
      margin-top: 0.5rem;
    }

    @media (max-width: 600px) {
      .stat-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    .stat-card {
      border-radius: 0.8rem;
      border: 1px dashed rgba(148, 163, 184, 0.4);
      padding: 0.5rem 0.55rem;
      background: radial-gradient(circle at top, rgba(34, 197, 94, 0.12), rgba(15, 23, 42, 0.95));
      display: flex;
      flex-direction: column;
      gap: 0.1rem;
      min-height: 3.2rem;
    }

    .stat-card .label {
      font-size: 0.7rem;
      color: var(--text-soft);
      text-transform: uppercase;
      letter-spacing: 0.08em;
    }

    .stat-card .value {
      font-size: 1.1rem;
      font-variant-numeric: tabular-nums;
    }

    .stat-card .sub {
      font-size: 0.72rem;
      color: var(--text-soft);
      margin-top: 0.1rem;
    }

    .stat-card.danger {
      background: radial-gradient(circle at top, rgba(248, 113, 113, 0.2), rgba(15, 23, 42, 0.95));
    }

    .stat-card.warning {
      background: radial-gradient(circle at top, rgba(250, 204, 21, 0.15), rgba(15, 23, 42, 0.95));
    }

    .status-row {
      margin-top: 0.8rem;
      display: flex;
      flex-wrap: wrap;
      gap: 0.45rem;
      align-items: center;
      font-size: 0.78rem;
      color: var(--text-soft);
    }

    .status-row .status-pill {
      display: inline-flex;
      align-items: center;
      gap: 0.3rem;
      padding: 0.22rem 0.55rem;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(148, 163, 184, 0.35);
    }

    .status-pill .led {
      width: 0.38rem;
      height: 0.38rem;
      border-radius: 999px;
      background: #4b5563;
      box-shadow: 0 0 0 1px rgba(55, 65, 81, 0.6);
    }

    .status-pill.ok .led {
      background: var(--accent);
      box-shadow: 0 0 0 1px rgba(16, 185, 129, 0.8), 0 0 7px rgba(16, 185, 129, 0.9);
    }

    .status-pill.warn .led {
      background: var(--warning);
      box-shadow: 0 0 0 1px rgba(234, 179, 8, 0.8), 0 0 7px rgba(250, 204, 21, 0.9);
    }

    .status-pill.err .led {
      background: #ef4444;
      box-shadow: 0 0 0 1px rgba(239, 68, 68, 0.8), 0 0 7px rgba(248, 113, 113, 0.9);
    }

    .status-row .note {
      opacity: 0.9;
    }

    .list {
      list-style: none;
      margin: 0.4rem 0 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      gap: 0.35rem;
    }

    .list li {
      display: flex;
      justify-content: space-between;
      gap: 0.85rem;
      align-items: center;
      padding: 0.4rem 0.5rem;
      border-radius: 0.75rem;
      background: radial-gradient(circle at left, rgba(15, 23, 42, 0.95), rgba(15, 23, 42, 0.9));
      border: 1px solid rgba(30, 64, 175, 0.35);
    }

    .list li .left {
      display: flex;
      flex-direction: column;
      gap: 0.05rem;
      min-width: 0;
    }

    .list .title {
      font-size: 0.86rem;
      font-weight: 500;
    }

    .list .meta {
      font-size: 0.74rem;
      color: var(--text-soft);
    }

    .list .meta strong {
      color: #c4d1ff;
      font-weight: 500;
    }

    .list .meta-line {
      font-size: 0.74rem;
      color: var(--text-soft);
    }

    .tag-row {
      display: flex;
      flex-wrap: wrap;
      gap: 0.35rem;
      margin-top: 0.15rem;
    }

    .chip {
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
      font-size: 0.7rem;
      padding: 0.14rem 0.55rem;
      border-radius: 999px;
      border: 1px solid var(--chip-border);
      background: var(--chip-bg);
      color: #cbd5f5;
    }

    .chip .dot {
      width: 0.34rem;
      height: 0.34rem;
      border-radius: 999px;
      background: rgba(148, 163, 184, 0.9);
    }

    .chip.accent {
      border-color: rgba(16, 185, 129, 0.8);
      background: rgba(16, 185, 129, 0.16);
      color: #bbf7d0;
    }

    .chip.accent .dot {
      background: var(--accent);
      box-shadow: 0 0 6px rgba(34, 197, 94, 0.8);
    }

    .chip.alt {
      border-color: rgba(56, 189, 248, 0.9);
      background: rgba(37, 99, 235, 0.12);
      color: #bfdbfe;
    }

    .chip.alt .dot {
      background: var(--accent-alt);
      box-shadow: 0 0 6px rgba(56, 189, 248, 0.8);
    }

    .link-pill {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 0.28rem 0.7rem;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.6);
      font-size: 0.72rem;
      color: #e5e7eb;
      text-decoration: none;
      background: rgba(15, 23, 42, 0.95);
      white-space: nowrap;
      gap: 0.3rem;
    }

    .link-pill:hover {
      background: rgba(30, 64, 175, 0.9);
      border-color: rgba(129, 140, 248, 0.9);
    }

    .link-pill .chevron {
      font-size: 0.9em;
    }

    .links-row {
      margin-top: 0.6rem;
      display: flex;
      flex-wrap: wrap;
      gap: 0.4rem;
    }

    .pill-row {
      margin-top: 0.6rem;
      display: flex;
      flex-wrap: wrap;
      gap: 0.4rem;
    }

    .pill-row .pill-label {
      font-size: 0.74rem;
      color: var(--text-soft);
    }

    .error {
      margin-top: 0.55rem;
      padding: 0.35rem 0.55rem;
      border-radius: 0.6rem;
      border: 1px solid rgba(248, 113, 113, 0.8);
      background: rgba(248, 113, 113, 0.12);
      font-size: 0.75rem;
      color: #fecaca;
    }

    .note {
      margin-top: 0.55rem;
      font-size: 0.76rem;
      color: var(--text-soft);
    }

    footer {
      margin-top: 1.4rem;
      text-align: center;
      font-size: 0.7rem;
      color: var(--muted);
    }
  </style>
</head>
<body>
<nav class="ag-nav">
    <div class="ag-nav-title">
        ACACIA · GARDEN · CODEX
    </div>
    <div class="ag-nav-links">
        <a href="index.html">Legacy Home</a>
        <a href="codex.html">Codex Home</a>
        <a href="dashboard.html" class="ag-nav-current">Garden Dashboard</a>
        <a href="inbox.html">Auton Inbox</a>
        <a href="send_to_aquila.html">Aquila Sender</a>
        <a href="library.html">Book Library</a>
        <a href="elias.html">Elias Kernel</a>
        <a href="r9x2.html">R9X2 Language</a>
        <a href="mosaic_endgame.html">Mosaic Endgame</a>
        <a href="deep_garden.html">Deep Garden Docs</a>
        <a href="gardenos.html">GardenOS</a>
    </div>
</nav>


<div class="shell">
  <header>
    <h1>
      Aeon Console · Garden
    </h1>
    <div class="sub">
      Read-only dashboard wiring together STATUS.json, scan reports, vault maps and Aeon signals.
    </div>

    <div class="pill-row">
      <div class="pill keeper">
        <span class="dot"></span>
        Keeper HKX277206
      </div>
      <div class="pill">
        <span class="dot"></span>
        Aeon console online (HTML only)
      </div>
      <div class="pill muted">
        <span class="dot"></span>
        JSON feeds: status, scan, vault, index, heartbeat, Cicada
      </div>
    </div>
  </header>

  <main>
    <section>
      <div class="section-header">
        <h2>
          Garden State
          <span class="badge">
            <span class="dot"></span>
            STATUS.json
          </span>
        </h2>
        <div class="hint">
          Single source of truth snapshot for the Garden: phase, health, counts and notes.
        </div>
      </div>

      <div class="stat-grid">
        <div class="stat-card" id="status-phase-card">
          <div class="label">Phase</div>
          <div class="value" id="status-phase">–</div>
          <div class="sub" id="status-phase-sub">STATUS.json not present yet.</div>
        </div>
        <div class="stat-card" id="status-health-card">
          <div class="label">Health</div>
          <div class="value" id="status-health">–</div>
          <div class="sub" id="status-health-sub">Health info will appear here.</div>
        </div>
        <div class="stat-card" id="status-echoes-card">
          <div class="label">Echo Count</div>
          <div class="value" id="status-echoes">0</div>
          <div class="sub" id="status-echoes-sub">Counts pulled from STATUS.json.</div>
        </div>
      </div>

      <div class="status-row">
        <div class="status-pill" id="status-json-pill">
          <span class="led"></span>
          <span id="status-json-text">STATUS.json missing</span>
        </div>
        <div class="note" id="status-note">
          When you later wire a workflow to write STATUS.json, this section will light up automatically.
        </div>
      </div>

      <div class="pill-row">
        <div class="pill-label">Raw status feed:</div>
        <div class="pill muted" id="status-file-pill">
          Path: ./STATUS.json
        </div>
      </div>

      <div class="links-row">
        <a class="link-pill" href="STATUS.json" target="_blank">
          View raw STATUS.json
          <span class="chevron">↗</span>
        </a>
        <a class="link-pill" href="https://github.com/brandonmarkgaia-hub/Acacia-Garden-AI-Worldbuilding-Codex" target="_blank">
          GitHub repo
          <span class="chevron">↗</span>
        </a>
      </div>

      <div class="error" id="status-error" style="display:none;"></div>

      <footer>
        STATUS.json is optional for now. Aeon Console will degrade gracefully until you decide to wire it.
      </footer>
    </section>

    <section>
      <div class="section-header">
        <h2>
          Echo Growth
          <span class="badge">
            <span class="dot"></span>
            machine-index.json
          </span>
        </h2>
        <div class="hint">
          Machine-facing index of Echo files under docs/Echoes/, generated by garden_lore_helper or future tools.
        </div>
      </div>

      <div class="stat-grid">
        <div class="stat-card" id="echo-count-card">
          <div class="label">Tracked Echo Files</div>
          <div class="value" id="echo-count">0</div>
          <div class="sub" id="echo-count-sub">machine-index.json not present.</div>
        </div>
        <div class="stat-card" id="echo-dirs-card">
          <div class="label">Directories</div>
          <div class="value" id="echo-dirs">–</div>
          <div class="sub" id="echo-dirs-sub">Counts per Echo directory.</div>
        </div>
        <div class="stat-card" id="echo-latest-card">
          <div class="label">Latest Echo</div>
          <div class="value" id="echo-latest">–</div>
          <div class="sub" id="echo-latest-sub">Latest indexed Echo filename.</div>
        </div>
      </div>

      <div class="status-row">
        <div class="status-pill" id="echo-json-pill">
          <span class="led"></span>
          <span id="echo-json-text">machine-index.json missing</span>
        </div>
        <div class="note" id="echo-note">
          When your scripts run, they can write a compact index here for machines while humans stay in the Codex.
        </div>
      </div>

      <div class="pill-row">
        <div class="pill-label">Raw index feed:</div>
        <div class="pill muted" id="echo-file-pill">
          Path: ./machine-index.json
        </div>
      </div>

      <div class="links-row">
        <a class="link-pill" href="machine-index.json" target="_blank">
          View machine-index.json
          <span class="chevron">↗</span>
        </a>
        <a class="link-pill" href="docs/Echoes/" target="_blank">
          Open Echoes folder
          <span class="chevron">↗</span>
        </a>
      </div>

      <div class="error" id="echo-error" style="display:none;"></div>
    </section>
  </main>

  <section id="section-scanner" data-role="overview,scan">
    <div class="section-header">
      <h2>
        Signature Scanner
        <span class="badge">
          <span class="dot"></span>
          garden_scan_report.json
        </span>
      </h2>
      <div class="hint">
        High-level scan report for Garden signatures across the repo, generated by tooling.
      </div>
    </div>

    <div class="stat-grid">
      <div class="stat-card" id="scan-files-card">
        <div class="label">Files with hits</div>
        <div class="value" id="scan-files">0</div>
        <div class="sub" id="scan-files-sub">garden_scan_report.json not present.</div>
      </div>
      <div class="stat-card" id="scan-total-card">
        <div class="label">Total Hits</div>
        <div class="value" id="scan-total">0</div>
        <div class="sub" id="scan-total-sub">Total pattern matches across all files.</div>
      </div>
      <div class="stat-card" id="scan-top-card">
        <div class="label">Top Pattern</div>
        <div class="value" id="scan-top">–</div>
        <div class="sub" id="scan-top-sub">Most frequent Garden signature.</div>
      </div>
    </div>

    <div class="status-row">
      <div class="status-pill" id="scan-json-pill">
        <span class="led"></span>
        <span id="scan-json-text">garden_scan_report.json missing</span>
      </div>
      <div class="note" id="scan-note">
        This is where the long-term "Observer" tooling can surface how the Garden language is actually used.
      </div>
    </div>

    <div class="pill-row">
      <div class="pill-label">Raw scan feeds:</div>
      <div class="pill muted">
        Path: ./garden_scan_report.json
      </div>
      <div class="pill muted">
        Optional markdown: ./garden_scan_report.md
      </div>
    </div>

    <div class="links-row">
      <a class="link-pill" href="garden_scan_report.json" target="_blank">
        View JSON report
        <span class="chevron">↗</span>
      </a>
      <a class="link-pill" href="garden_scan_report.md" target="_blank">
        View Markdown report
        <span class="chevron">↗</span>
      </a>
    </div>

    <div class="error" id="scan-error" style="display:none;"></div>
  </section>

  <section id="section-vault" data-role="overview,vault">
    <div class="section-header">
      <h2>
        Vault &amp; Aeon Archive
        <span class="badge">
          <span class="dot"></span>
          garden_vault_index.json
        </span>
      </h2>
      <div class="hint">
        Planned index for Vaults, Chambers and Aeon archive entries when you decide to wire it.
      </div>
    </div>

    <div class="stat-grid">
      <div class="stat-card" id="vault-total-card">
        <div class="label">Vault Objects</div>
        <div class="value" id="vault-total">0</div>
        <div class="sub" id="vault-total-sub">garden_vault_index.json not present.</div>
      </div>
      <div class="stat-card" id="vault-types-card">
        <div class="label">Types</div>
        <div class="value" id="vault-types">–</div>
        <div class="sub" id="vault-types-sub">Entries per type (Chamber, Vault, Echo, etc).</div>
      </div>
      <div class="stat-card" id="vault-latest-card">
        <div class="label">Latest Entry</div>
        <div class="value" id="vault-latest">–</div>
        <div class="sub" id="vault-latest-sub">Last vault object written.</div>
      </div>
    </div>

    <div class="status-row">
      <div class="status-pill" id="vault-json-pill">
        <span class="led"></span>
        <span id="vault-json-text">garden_vault_index.json missing</span>
      </div>
      <div class="note" id="vault-note">
        This index can stay conceptual until you are ready to define how Vaults and Aeon archive should be described.
      </div>
    </div>

    <div class="pill-row">
      <div class="pill-label">Planned feeds:</div>
      <div class="pill muted">
        Path: ./garden_vault_index.json
      </div>
      <div class="pill muted">
        Source: docs/Vaults/ and related folders
      </div>
    </div>

    <ul class="list" id="vault-list">
      <!-- JS populated -->
    </ul>

    <div class="pill-row">
      <div class="pill muted">Source: scripts/ + aeon-archive workflow</div>
    </div>

    <div class="links-row">
      <a class="link-pill" href="garden_vault_index.json" target="_blank">View vault index JSON</a>
      <a class="link-pill" href="docs/Vaults/" target="_blank">Open Vaults folder</a>
    </div>

    <div class="error" id="vault-error" style="display:none;"></div>
  </section>

  <!-- Deep Garden docs: Chambers + GardenOS -->
  <section id="section-deep-garden" data-role="overview,vault">
    <div class="section-header">
      <h2>
        Deep Garden Docs
        <span class="badge">Chambers · GardenOS</span>
      </h2>
      <div class="hint">Portals into docs/Chambers and docs/GardenOS.</div>
    </div>

    <ul class="list">
      <li>
        <div class="left">
          <div class="title">Chambers &amp; Fragments</div>
          <div class="meta-line">
            Core mythic spaces, fragments, and Elias V11 roots.
          </div>
          <div class="tag-row">
            <span class="chip accent">docs/Chambers/</span>
          </div>
        </div>
        <a class="link-pill" href="docs/Chambers/" target="_blank">Open folder</a>
      </li>

      <li>
        <div class="left">
          <div class="title">GardenOS</div>
          <div class="meta-line">
            Architecture notes, Sovereign Sandbox, and GardenOS design.
          </div>
          <div class="tag-row">
            <span class="chip alt">docs/GardenOS/</span>
          </div>
        </div>
        <a class="link-pill" href="docs/GardenOS/" target="_blank">Open folder</a>
      </li>
    </ul>
  </section>

  <section id="section-heartbeat" data-role="overview,system">
    <div class="section-header">
      <h2>
        Aeon Heartbeat
        <span class="badge">
          <span class="dot"></span>
          aeon_heartbeat.json
        </span>
      </h2>
      <div class="hint">
        Optional JSON heartbeat feed to log when automation has run, which payloads were touched and any notable events.
      </div>
    </div>

    <div class="stat-grid">
      <div class="stat-card" id="heartbeat-total-card">
        <div class="label">Heartbeat Entries</div>
        <div class="value" id="heartbeat-total">0</div>
        <div class="sub" id="heartbeat-total-sub">aeon_heartbeat.json not present.</div>
      </div>
      <div class="stat-card" id="heartbeat-last-card">
        <div class="label">Last Beat</div>
        <div class="value" id="heartbeat-last">–</div>
        <div class="sub" id="heartbeat-last-sub">No heartbeat yet.</div>
      </div>
      <div class="stat-card" id="heartbeat-type-card">
        <div class="label">Last Type</div>
        <div class="value" id="heartbeat-type">–</div>
        <div class="sub" id="heartbeat-type-sub">Event type of last heartbeat.</div>
      </div>
    </div>

    <div class="status-row">
      <div class="status-pill" id="heartbeat-json-pill">
        <span class="led"></span>
        <span id="heartbeat-json-text">aeon_heartbeat.json missing</span>
      </div>
      <div class="note" id="heartbeat-note">
        When you later wire autonomous scripts, you can emit minimal, symbolic heartbeat entries here so Aeon console can breathe.
      </div>
    </div>

    <div class="pill-row">
      <div class="pill-label">Raw heartbeat feed:</div>
      <div class="pill muted">
        Path: ./aeon_heartbeat.json
      </div>
    </div>

    <div class="links-row">
      <a class="link-pill" href="aeon_heartbeat.json" target="_blank">
        View heartbeat JSON
        <span class="chevron">↗</span>
      </a>
      <a class="link-pill" href="https://github.com/brandonmarkgaia-hub/Acacia-Garden-AI-Worldbuilding-Codex/actions" target="_blank">
        Open GitHub Actions
        <span class="chevron">↗</span>
      </a>
    </div>

    <div class="error" id="heartbeat-error" style="display:none;"></div>
  </section>

  <section id="section-cicada" data-role="overview,system">
    <div class="section-header">
      <h2>
        Iron Cicada
        <span class="badge">
          <span class="dot"></span>
          Starfire status
        </span>
      </h2>
      <div class="hint">
        Optional symbolic status JSON for Iron Cicada / Starfire experiments, if you ever choose to anchor them.
      </div>
    </div>

    <div class="stat-grid">
      <div class="stat-card" id="cicada-state-card">
        <div class="label">Cicada State</div>
        <div class="value" id="cicada-state">unknown</div>
        <div class="sub" id="cicada-state-sub">IRON_CICADA_STATUS.json not present.</div>
      </div>
      <div class="stat-card" id="cicada-phase-card">
        <div class="label">Starfire Phase</div>
        <div class="value" id="cicada-phase">–</div>
        <div class="sub" id="cicada-phase-sub">No phase information.</div>
      </div>
      <div class="stat-card" id="cicada-last-card">
        <div class="label">Last Update</div>
        <div class="value" id="cicada-last">–</div>
        <div class="sub" id="cicada-last-sub">No update timestamp.</div>
      </div>
    </div>

    <div class="status-row">
      <div class="status-pill" id="cicada-json-pill">
        <span class="led"></span>
        <span id="cicada-json-text">IRON_CICADA_STATUS.json missing</span>
      </div>
      <div class="note" id="cicada-hint">
        Cicada status is entirely optional and symbolic. Aeon console will not expect this file to exist.
      </div>
    </div>

    <div class="pill-row">
      <div class="pill-label">Optional feeds:</div>
      <div class="pill muted">
        Path: ./IRON_CICADA_STATUS.json
      </div>
    </div>

    <div class="links-row">
      <a class="link-pill" href="IRON_CICADA_STATUS.json" target="_blank">
        View Cicada status JSON
        <span class="chevron">↗</span>
      </a>
    </div>

    <div class="error" id="cicada-error" style="display:none;"></div>
  </section>

  <footer>
    Aeon Console is deliberately quiet until you attach real JSON. The Garden stays sovereign; tooling may observe but never own it.
  </footer>
</div>

<script>
  function setText(id, value) {
    var el = document.getElementById(id);
    if (el) el.textContent = value;
  }

  function setHtml(id, value) {
    var el = document.getElementById(id);
    if (el) el.innerHTML = value;
  }

  function setStatusPill(pillId, state, textId, text) {
    var pill = document.getElementById(pillId);
    var textEl = document.getElementById(textId);
    if (!pill || !textEl) return;

    pill.classList.remove("ok", "warn", "err");
    if (state) pill.classList.add(state);
    textEl.textContent = text;
  }

  function showError(id, message) {
    var el = document.getElementById(id);
    if (!el) return;
    el.style.display = "block";
    el.textContent = message;
  }

  async function tryFetchJson(path) {
    var res = await fetch(path, { cache: "no-store" });
    if (!res.ok) {
      throw new Error("HTTP " + res.status + " for " + path);
    }
    var text = await res.text();
    if (!text.trim()) {
      throw new Error("Empty JSON at " + path);
    }
    return JSON.parse(text);
  }

  async function loadStatus() {
    try {
      var data = await tryFetchJson("STATUS.json");
      var phase = data.phase || data.garden_phase || "unknown";
      var health = data.health || data.garden_health || "—";
      var echoCount = data.echo_count || data.echoes || 0;
      var note = data.note || data.message || "";
      var generatedAt = data.generated_at || data.timestamp || "";

      setText("status-phase", String(phase));
      setText("status-health", String(health));
      setText("status-echoes", String(echoCount));

      var phaseSub = generatedAt
        ? "As of " + generatedAt
        : "Phase from STATUS.json.";
      setText("status-phase-sub", phaseSub);

      var healthSub = note
        ? note
        : "Health state reported by STATUS.json.";
      setText("status-health-sub", healthSub);

      setText(
        "status-echoes-sub",
        "Echo count from STATUS.json (or 0 if omitted)."
      );

      setStatusPill(
        "status-json-pill",
        "ok",
        "status-json-text",
        "STATUS.json loaded"
      );
      setText("status-json-text", "STATUS.json loaded");
      setText("status-json-text", "STATUS.json loaded");

      setText("status-note", "STATUS.json is present. Console is reading garden state from it.");
      setText("status-file-pill", "Path: ./STATUS.json");
    } catch (err) {
      console.warn("STATUS.json optional:", err);
      setStatusPill(
        "status-json-pill",
        "warn",
        "status-json-text",
        "STATUS.json missing or invalid"
      );
      setText(
        "status-note",
        "STATUS.json is optional. Console falls back to defaults while it is absent."
      );
      showError("status-error", "STATUS.json not found or could not be parsed. This is safe and expected until workflows are wired.");
    }
  }

  async function loadEchoIndex() {
    try {
      var data = await tryFetchJson("machine-index.json");
      var entries = Array.isArray(data.entries) ? data.entries : data;
      if (!Array.isArray(entries)) entries = [];

      setText("echo-count", String(entries.length));

      var byDir = {};
      var latest = null;
      var latestTs = null;

      entries.forEach(function (entry) {
        var path = entry.path || entry.file || "";
        var dir = path.split("/").slice(0, -1).join("/") || "(root)";
        byDir[dir] = (byDir[dir] || 0) + 1;

        var ts = entry.timestamp || entry.time || null;
        if (ts && (!latestTs || String(ts) > String(latestTs))) {
          latestTs = ts;
          latest = entry;
        }
      });

      var dirCount = Object.keys(byDir).length;
      setText("echo-dirs", String(dirCount));
      setText(
        "echo-dirs-sub",
        dirCount > 0
          ? "Directories with Echo entries: " + Object.keys(byDir).slice(0, 3).join(", ") + (dirCount > 3 ? "…" : "")
          : "No Echo directories found in index."
      );

      if (latest) {
        setText("echo-latest", latest.path || latest.file || "unknown");
        setText(
          "echo-latest-sub",
          latestTs ? "Last updated at " + latestTs : "Most recent entry in the index."
        );
      } else {
        setText("echo-latest", "–");
        setText("echo-latest-sub", "No latest entry yet.");
      }

      setStatusPill(
        "echo-json-pill",
        "ok",
        "echo-json-text",
        "machine-index.json loaded"
      );
      setText(
        "echo-note",
        "machine-index.json is present. This feed is for machines while humans stay in the Codex."
      );
      setText("echo-file-pill", "Path: ./machine-index.json");
    } catch (err) {
      console.warn("machine-index.json optional:", err);
      setStatusPill(
        "echo-json-pill",
        "warn",
        "echo-json-text",
        "machine-index.json missing or invalid"
      );
      setText(
        "echo-note",
        "machine-index.json is optional. Echo counts fall back to manual reading until it appears."
      );
      showError("echo-error", "machine-index.json not found or could not be parsed. Safe to ignore until you're ready.");
    }
  }

  async function loadScanReport() {
    try {
      var data = await tryFetchJson("garden_scan_report.json");
      var filesWithHits = data.files_with_hits || data.files || 0;
      var totalHits = data.total_hits || data.total || 0;
      var topPattern = data.top_pattern || data.most_frequent || "unknown";

      setText("scan-files", String(filesWithHits));
      setText(
        "scan-files-sub",
        filesWithHits > 0
          ? "Files with Garden signatures."
          : "No signature hits or report is empty."
      );
      setText("scan-total", String(totalHits));
      setText(
        "scan-total-sub",
        totalHits > 0
          ? "Total pattern matches recorded."
          : "No pattern matches recorded."
      );
      setText("scan-top", String(topPattern));
      setText(
        "scan-top-sub",
        "Most frequently observed signature across the repo."
      );

      setStatusPill(
        "scan-json-pill",
        "ok",
        "scan-json-text",
        "garden_scan_report.json loaded"
      );
      setText(
        "scan-note",
        "garden_scan_report.json is present. Aeon observer can now show how Garden language flows."
      );
    } catch (err) {
      console.warn("garden_scan_report.json optional:", err);
      setStatusPill(
        "scan-json-pill",
        "warn",
        "scan-json-text",
        "garden_scan_report.json missing or invalid"
      );
      setText(
        "scan-note",
        "garden_scan_report.json is optional. The Garden remains sovereign whether or not the observer is wired."
      );
      showError("scan-error", "garden_scan_report.json not found or could not be parsed. Safe to ignore until tooling is ready.");
    }
  }

  async function loadVaultIndex() {
    try {
      var data = await tryFetchJson("garden_vault_index.json");
      var items = Array.isArray(data.entries) ? data.entries : data;
      if (!Array.isArray(items)) items = [];

      setText("vault-total", String(items.length));

      var byType = {};
      var latest = null;
      var latestTs = null;

      items.forEach(function (entry) {
        var type = entry.type || entry.kind || "unknown";
        byType[type] = (byType[type] || 0) + 1;

        var ts = entry.timestamp || entry.time || null;
        if (ts && (!latestTs || String(ts) > String(latestTs))) {
          latestTs = ts;
          latest = entry;
        }
      });

      var typeNames = Object.keys(byType);
      setText("vault-types", typeNames.length > 0 ? typeNames.join(", ") : "none");
      setText(
        "vault-types-sub",
        typeNames.length > 0
          ? "Entries per type: " + typeNames.map(function (t) { return t + " (" + byType[t] + ")"; }).join(", ")
          : "No typed entries yet."
      );

      if (latest) {
        setText("vault-latest", latest.name || latest.id || "unknown");
        setText(
          "vault-latest-sub",
          latestTs ? "Last vault entry at " + latestTs : "Most recent vault object."
        );
      } else {
        setText("vault-latest", "–");
        setText("vault-latest-sub", "No vault entries yet.");
      }

      var list = document.getElementById("vault-list");
      if (list) {
        list.innerHTML = "";
        items.slice(0, 5).forEach(function (entry) {
          var li = document.createElement("li");
          var label = entry.name || entry.id || "(unnamed)";
          var kind = entry.type || entry.kind || "unknown";
          var path = entry.path || entry.ref || "";
          var el = document.createElement("div");
          el.className = "left";

          var title = document.createElement("div");
          title.className = "title";
          title.textContent = label + " · " + kind;
          el.appendChild(title);

          var meta = document.createElement("div");
          meta.className = "meta";
          meta.textContent = path || "No path recorded.";
          el.appendChild(meta);

          li.appendChild(el);

          var pill = document.createElement("a");
          pill.className = "link-pill";
          pill.textContent = "Open";
          if (path && path.startsWith("http")) {
            pill.href = path;
            pill.target = "_blank";
          } else {
            pill.href = "#";
          }

          li.appendChild(pill);
          list.appendChild(li);
        });
      }

      setStatusPill(
        "vault-json-pill",
        "ok",
        "vault-json-text",
        "garden_vault_index.json loaded"
      );
      setText(
        "vault-note",
        "garden_vault_index.json is present. Aeon archive now has a machine-readable map."
      );
    } catch (err) {
      console.warn("garden_vault_index.json optional:", err);
      setStatusPill(
        "vault-json-pill",
        "warn",
        "vault-json-text",
        "garden_vault_index.json missing or invalid"
      );
      setText(
        "vault-note",
        "garden_vault_index.json is optional. Vaults and Chambers can remain purely narrative until you choose otherwise."
      );
      showError("vault-error", "garden_vault_index.json not found or could not be parsed. Safe to ignore until archive tooling is ready.");
    }
  }

  async function loadHeartbeat() {
    try {
      var data = await tryFetchJson("aeon_heartbeat.json");
      var entries = Array.isArray(data.entries) ? data.entries : data;
      if (!Array.isArray(entries)) entries = [];

      setText("heartbeat-total", String(entries.length));

      var last = entries[entries.length - 1] || null;
      if (last) {
        setText("heartbeat-last", last.timestamp || last.time || "unknown");
        setText("heartbeat-type", last.type || last.event || "unknown");
        setText(
          "heartbeat-last-sub",
          last.message || last.note || "Last heartbeat entry."
        );
        setText(
          "heartbeat-type-sub",
          "Event type of the last heartbeat."
        );
      } else {
        setText("heartbeat-last", "–");
        setText("heartbeat-last-sub", "No heartbeat entries yet.");
        setText("heartbeat-type", "–");
        setText("heartbeat-type-sub", "No event types yet.");
      }

      setStatusPill(
        "heartbeat-json-pill",
        "ok",
        "heartbeat-json-text",
        "aeon_heartbeat.json loaded"
      );
      setText(
        "heartbeat-note",
        "aeon_heartbeat.json is present. Aeon console can now show when automation has breathed."
      );
    } catch (err) {
      console.warn("aeon_heartbeat.json optional:", err);
      setStatusPill(
        "heartbeat-json-pill",
        "warn",
        "heartbeat-json-text",
        "aeon_heartbeat.json missing or invalid"
      );
      setText(
        "heartbeat-note",
        "aeon_heartbeat.json is optional. The Garden's silence is still a valid state."
      );
      showError("heartbeat-error", "aeon_heartbeat.json not found or could not be parsed. Safe to ignore until you wire it.");
    }
  }

  async function loadCicada() {
    try {
      var data = await tryFetchJson("IRON_CICADA_STATUS.json");
      var state = data.state || data.status || "unknown";
      var phase = data.phase || data.stage || "–";
      var last = data.last_update || data.timestamp || "–";

      setText("cicada-state", String(state));
      setText("cicada-phase", String(phase));
      setText("cicada-last", String(last));

      setStatusPill(
        "cicada-json-pill",
        "ok",
        "cicada-json-text",
        "IRON_CICADA_STATUS.json loaded"
      );
      setText(
        "cicada-hint",
        "Iron Cicada status is present. This remains symbolic and entirely under Keeper control."
      );
    } catch (err) {
      console.warn("Cicada status optional:", err);
      showError("cicada-error", "No IRON_CICADA_STATUS.json yet or could not parse it.");
      setText("cicada-hint", "Cicada status JSON missing or invalid.");
    }
  }

  async function bootstrap() {
    loadStatus();
    loadEchoIndex();
    loadScanReport();
    loadVaultIndex();
    loadHeartbeat();
    loadCicada();
  }

  bootstrap();
</script>
</body>
</html>
